# WB Anti‑Fake Bot (Telegram) — бесплатный MVP

Телеграм‑бот принимает ссылку/артикул Wildberries и за ~3 секунды показывает:
- **Trust Score** (эвристики накрутки/подозрительности)
- **Выжимку отзывов**: топ‑плюсы / топ‑минусы
- **Скрытые минусы**: повторяющиеся проблемы, которые тонут в массе отзывов
- (опционально) **скидка**: текущая vs “старая” цена из карточки + комментарий (без “настоящей” истории цен)

⚠️ Важно: бот использует **неофициальные (внутренние) публичные эндпойнты** WB (`card.wb.ru`, `feedbacks*.wb.ru`), они могут меняться/ограничиваться. Делайте разумные лимиты и кэш.

---

## Быстрый старт (Docker)

1) Создайте бота у @BotFather и возьмите токен.

2) Скопируйте `.env.example` → `.env` и вставьте токен.

3) Запуск:
```bash
docker compose up -d --build
```

Логи:
```bash
docker compose logs -f
```

Остановка:
```bash
docker compose down
```

---

## Быстрый старт (локально без Docker)

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt

cp .env.example .env
# вставьте BOT_TOKEN

python -m app.main
```

---

## Как пользоваться

Отправьте боту:
- ссылку вида `https://www.wildberries.ru/catalog/<nmId>/detail.aspx`
- или просто `nmId` (артикул), например `98892471`.

---

## Что легко улучшить дальше

- Собирать историю цен (снэпшоты) и делать вердикт по скидке по статистике за N дней.
- Добавить “сравнить 2 товара”.
- Сделать веб‑страницу `/analyze?url=...` и потом браузерное расширение.


## v3 (без ИИ)
- Плюсы/минусы отключены до подключения ИИ.
- Процент 'скидки' убран: WB basic/product не является историей цен.
- История цены строится ботом (снэпшоты в SQLite) — показывает изменения с момента запуска.
- Добавлен 'итоговый рейтинг' по очищенным текстовым отзывам: сначала отбрасываем подозрительные, потом считаем среднюю оценку.
